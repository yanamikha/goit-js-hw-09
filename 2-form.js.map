{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import '../css/styles.css';\nlet formData = {\n  email: '',\n  message: '',\n};\nlet storageKeyForFormData = 'feedback-form-state';\n\nlet onFormSubmit = function (evt) {\n  evt.preventDefault();\n  let emailValue = this.elements.email.value.trim();\n  let messageValue = this.elements.message.value.trim();\n\n  let formIsNotFilled = !emailValue || !messageValue;\n  if (formIsNotFilled) {\n    alert('Fill please all fields');\n  } else {\n    console.log({\n      email: emailValue,\n      message: messageValue,\n    });\n    localStorage.removeItem(storageKeyForFormData);\n    this.reset();\n  }\n};\nlet onFormDataChanged = function (event) {\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem(storageKeyForFormData, JSON.stringify(formData));\n};\nlet restoreFormData = function () {\n  let storageData = localStorage.getItem(storageKeyForFormData);\n  if (storageData) {\n    formData = JSON.parse(storageData);\n    form.elements.email.value = formData.email;\n    form.elements.message.value = formData.message;\n  }\n};\nlet form = document.querySelector('form.feedback-form');\nif (form) {\n  restoreFormData();\n  form.addEventListener('input', onFormDataChanged);\n  form.addEventListener('submit', onFormSubmit);\n}\n"],"names":["formData","storageKeyForFormData","onFormSubmit","evt","emailValue","messageValue","onFormDataChanged","event","restoreFormData","storageData","form"],"mappings":"oCACA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACIC,EAAwB,sBAExBC,EAAe,SAAUC,EAAK,CAChCA,EAAI,eAAgB,EACpB,IAAIC,EAAa,KAAK,SAAS,MAAM,MAAM,KAAM,EAC7CC,EAAe,KAAK,SAAS,QAAQ,MAAM,KAAM,EAE/B,CAACD,GAAc,CAACC,EAEpC,MAAM,wBAAwB,GAE9B,QAAQ,IAAI,CACV,MAAOD,EACP,QAASC,CACf,CAAK,EACD,aAAa,WAAWJ,CAAqB,EAC7C,KAAK,MAAO,EAEhB,EACIK,EAAoB,SAAUC,EAAO,CACvCP,EAASO,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQN,EAAuB,KAAK,UAAUD,CAAQ,CAAC,CACtE,EACIQ,EAAkB,UAAY,CAChC,IAAIC,EAAc,aAAa,QAAQR,CAAqB,EACxDQ,IACFT,EAAW,KAAK,MAAMS,CAAW,EACjCC,EAAK,SAAS,MAAM,MAAQV,EAAS,MACrCU,EAAK,SAAS,QAAQ,MAAQV,EAAS,QAE3C,EACIU,EAAO,SAAS,cAAc,oBAAoB,EAClDA,IACFF,EAAiB,EACjBE,EAAK,iBAAiB,QAASJ,CAAiB,EAChDI,EAAK,iBAAiB,SAAUR,CAAY"}